<div fxFlexFill fxLayout="column" fxLayoutAlign="start stretch">
    <div class="heading" fxLayoutAlign ="center center">City Weather</div>
    <div fxFlex fxLayout="row" fxLayout.lt-md="column" fxLayoutAlign="start stretch">
        <div class="left-column" fxLayout="row" fxFlex.gt-sm="35" fxLayoutAlign ="center center">
            <form [formGroup]="citySearchForm">
                    <div fxLayoutAlign="center" class="sub-heading"> Search by City name</div>
                    <div fxLayout="row wrap" fxLayoutAlign ="center center">
                        <div fxLayout="column">
                            <mat-form-field class="form-shadow" appearance="outline">
                                <mat-label>Enter City name </mat-label>                                
                                <input
                                appFocus
                                autocomplete="off"
                                matInput
                                maxlength="25"
                                type="text"      
                                formControlName="cityName"
                                #cityName
                                [(ngModel)]="cityNameVal"        
                                />
                                <mat-error *ngIf="getForm.cityName?.errors?.pattern">Please use characters only</mat-error>
                            </mat-form-field>
                        </div>
                        <div fxLayout="row">
                            <button
                            class="primary button-style"
                            [disabled]="!cityNameVal || citySearchForm.invalid"
                            (click)="search(cityName.value)"
                            mat-raised-button mat-primary>	<mat-icon inline=true> wb_sunny</mat-icon> See </button>
                        </div>
                    </div>
            </form>
        </div>
        <div *ngIf="weatherDetails && !errorMsg" fxLayout="column" fxFlex fxLayoutAlign ="center center">
            <h2 *ngIf="currentLoc;else city">The Weather in your location ({{ weatherDetails.name }})</h2>
            <ng-template #city>
                <h2>The weather at {{ weatherDetails.name | titlecase}}, {{ weatherDetails.sys.country | titlecase}}</h2>
            </ng-template>
            <h3>{{ weatherDetails.main.temp }}</h3>
        </div>
        <div *ngIf="waitingLocPerm && !accessDenied && !errorMsg" fxFlex fxLayoutAlign ="center center">
            <h2>
                Please allow City Weather Site to access your location information
            </h2>
        </div>        
        <div *ngIf="accessDenied && !waitingLocPerm && !errorMsg" fxFlex fxLayoutAlign ="center center">
            <h2>
                Search using city name to know the weather there.
            </h2>
        </div>
        <div *ngIf="errorMsg" fxLayout="column" fxFlex fxLayoutAlign="center center" fxLayoutGap="24px">
            <img width="80" src="assets/error.gif" alt="loaderGif">
            <h3>{{ errorMsg }}</h3>
        </div>
    </div>
</div>